global global_info

global_info.STOP_AT = 100;
global_info.MAX_TOKENS_NUM = 8;
global_info.CURRENT_TOKEN = 1;

pns = pnstruct({'cb_pdf', ...
    'ct_pdf', ...
    'customs_pdf', ...
    'depot_pdf', ...
    'ff_pdf', ...
    'imc_pdf', ...
    'owner_pdf', ...
    'sa_pdf', ...
    'sbgs_pdf', ...
    'transport_pdf'});

dyn.m0 = {'pOwner', global_info.MAX_TOKENS_NUM};
dyn.ft = {'tTokenShader', 5, 'allothers', 2};

pni = initialdynamics(pns, dyn);

sim = gpensim(pni);

% prnss(sim);

plotp(sim, {'pOwnerEnd', ...
    'pCTEnd', ...
    'pCustomsEnd', ...
    'pDepotEnd', ...
    'pFFEnd', ...
    'pSAEnd', ...
    'pSBGSEnd', ...
    'pTransportEnd'
});

% prnfinalcolors(sim);

% prncolormap(sim)

% prnstate();